<?xml version="1.0" encoding="UTF-8" ?>
<CiscoIPPhoneDirectory>
{% for result in results -%}
 <DirectoryEntry>
  <Name>{{ result.name }}</Name>
  <Telephone>{{ result.number }}</Telephone>
 </DirectoryEntry>
{% else -%}
 <DirectoryEntry>
  <Name>No entries</Name>
  <Telephone></Telephone>
 </DirectoryEntry>
{% endfor -%}

{% if next_query_string or previous_query_string -%}
<SoftKeyItem>
<Name>Dial</Name>
<URL>SoftKey:Dial</URL>
<Position>1</Position>
</SoftKeyItem>

{% if previous_query_string -%}
<SoftKeyItem>
<Name>PrevPage</Name>
<URL>{{ xivo_proxy_url }}?{{ previous_query_string }}</URL>
<Position>2</Position>
</SoftKeyItem>
{% endif -%}

<SoftKeyItem>
<Name>Exit</Name>
<URL>SoftKey:Exit</URL>
<Position>3</Position>
</SoftKeyItem>

{% if next_query_string -%}
<SoftKeyItem>
<Name>NextPage</Name>
<URL>{{ xivo_proxy_url }}?{{ next_query_string }}</URL>
<Position>4</Position>
</SoftKeyItem>
{% endif -%}
{% endif -%}
</CiscoIPPhoneDirectory>
