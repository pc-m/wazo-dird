# This file should not be modified as it may get changed by the maintainer.
# Add extra configuration files in the extra_config_files directory to override
# the content from this file

# Extra configuration directory where the config files overriding this file
# should be.
extra_config_files: /etc/xivo-dird/conf.d/

source_config_dir: /etc/xivo-dird/sources.d

# REST API server
rest_api:

    # Listening address
    listen: 0.0.0.0

    # Listening port
    port: 9489

    # SSL files
    certificate: /usr/share/xivo-certs/server.crt
    private_key: /usr/share/xivo-certs/server.key

    # SSL ciphers
    ciphers: "ALL:!aNULL:!eNULL:!LOW:!EXP:!RC4:!3DES:!SEED:+HIGH:+MEDIUM"

    #CORS configuration. See Flask-CORS documentation for other values.
    cors:

        #Enabled by default
        enabled: True

        #Allow JSON preflight requests
        allow_headers: Content-Type, X-Auth-Token

# Connection info to the authentication server
auth:
    host: localhost
    port: 9497

# Connection info to the contact storage server (Consul)
consul:
    host: localhost
    port: 8500

enabled_plugins:
    backends:
        - personal
        - xivo
    services:
        - favorites
        - lookup
        - personal
    views:
        - default_json
        - headers_view
        - personal_view

views:
    displays:
        default_display:
            -
                title: Firstname
                field: firstname
                type: name
            -
                title: Lastname
                field: lastname
                type: name
            -
                title: Number
                field: number
                type: number
            -
                title: Mobile
                field: mobile
                type: mobile
            -
                title: Favorite
                field: favorite
                type: favorite
            -
                title: Personal
                field: personal
                type: personal
    profile_to_display:
        default: default_display

services:
    lookup:
        default:
            sources:
                - xivo_users
                - personal
            timeout: 0.5
    favorites:
        default:
            sources:
                - xivo_users
                - personal
